require 'rails_helper'describe Movie do  describe 'searching Tmdb by keyword' do    context 'with valid key' do      it 'should call Tmdb with title keywords' do        expect( TmdbMovie).to receive(:find).with(a_hash_including :title => 'Inception')        Movie.find_in_tmdb('Inception')      end    end    context 'with invalid key' do      it 'should raise InvalidKeyError if key not given' do        allow(Movie).to receive(:api_key).and_return('')        expect { Movie.find_in_tmdb('Inception') }.to raise_error(Movie::InvalidKeyError)      end      it 'should raise InvalidKeyError if key is bad' do       allow(TmdbMovie).to receive(:find).and_raise(RuntimeError.new('API returned code 404'))       expect { Movie.find_in_tmdb('Inception') }.to raise_error(Movie::InvalidKeyError)      end    end  endend